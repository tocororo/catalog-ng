
<mat-toolbar color="accent"
    fxLayout="row wrap"
    fxLayout.xs="column"
    fxLayoutAlign="space-between center"
    style="height: 80px;"
>
    <span>Edita el Repositorio Institucional</span>
</mat-toolbar>

<mat-card>

    <mat-card-content>

        <form [formGroup]="instRepoFormGroup">

            <!-- Start Name -->
            <mat-form-field class="w-100" [appearance]="'outline'">
                <mat-label>Nombre</mat-label>
                <input matInput [formControlName]="'name'" [required]="'true'" [placeholder]="'Escriba el nombre del Repositorio Institucional'" />
            </mat-form-field>
            <!-- End Name -->

            <!-- Start MainInstitution -->
            <mat-card class="mb-2">
                <mat-card-content [formGroupName]="'mainInstitution'">
                    <p>
                        <mat-label>Institución Principal</mat-label>
                    </p>

                    <!-- Start Name -->
                    <mat-form-field class="w-100" [appearance]="'outline'">
                        <mat-label>Nombre</mat-label>
                        <input matInput [formControlName]="'name'" [required]="'true'" [placeholder]="'Escriba el nombre de la Institución Principal'" />
                    </mat-form-field>
                    <!-- End Name -->

                    <!-- Start Identifiers -->
                    <mat-card class="mb-2">
                        <mat-card-content [formArrayName]="'identifiers'">
                            <p>
                                <mat-label>Identidicadores</mat-label>
                            </p>

                            <div *ngFor="let identifier of identifiersMainInstitution_FA.controls; let pos=index"
                                class="w-100 my-outline" [formGroup]="identifiersMainInstitution_FA.controls[pos]"
                                fxLayout="row wrap" fxLayoutAlign="space-between center"
                            >
                                <mat-form-field class="w-45">
                                    <mat-select class="w-100" [formControlName]="'idtype'" [placeholder]="'Seleccione el tipo'">
                                        <mat-option *ngFor="let item of selectOptionsIdType" [value]="item.idtype">
                                            {{ item.value }}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>

                                <mat-form-field class="w-45">
                                    <input matInput [formControlName]="'value'" [placeholder]="'Valor'" />
                                </mat-form-field>

                                <button mat-icon-button matSuffix class="mat-18" (click)="deleteIdentifier(pos)"
                                    [matTooltip]="'Eliminar'" [matTooltipClass]="'tooltip-red'"
                                >
                                    <mat-icon>delete</mat-icon>
                                </button>
                            </div>
                        </mat-card-content>

                        <mat-card-actions align="end">
                            <button mat-stroked-button color="primary" (click)="addIdentifier()">Adicionar</button>
                        </mat-card-actions>
                    </mat-card>
                    <!-- End Identifiers -->

                </mat-card-content>
            </mat-card>
            <!-- End MainInstitution -->

            <!-- Start URL -->
            <mat-form-field class="w-100" [appearance]="'outline'">
                <mat-label>Url</mat-label>
                <input matInput [formControlName]="'url'" [required]="'true'" [placeholder]="'Escriba el Url del Repositorio Institucional'" />
            </mat-form-field>
            <!-- End Name -->

            <!-- Start URL-OAI -->
            <mat-form-field class="w-100" [appearance]="'outline'">
                <mat-label>Url-OAI</mat-label>
                <input matInput [formControlName]="'url_oai'" [required]="'true'" [placeholder]="'Escriba el Url-OAI del Repositorio Institucional'" />
            </mat-form-field>
            <!-- End Name -->

        </form>

    </mat-card-content>

    <mat-card-actions align="start">
        <button mat-button [disabled]="instRepoFormGroup.invalid" (click)="update()">Editar</button>
    </mat-card-actions>

</mat-card>
